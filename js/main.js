const canvas1 = document.getElementById('canvas1');
const ctx1 = canvas1.getContext('2d');

const canvas2 = document.getElementById('canvas2');
const ctx2 = canvas2.getContext('2d');

const canvas3 = document.getElementById('canvas3');
const ctx3 = canvas3.getContext('2d');

canvas1.width = 500;
canvas1.height = 250;

canvas2.width = 500;
canvas2.height = 250;

canvas3.width = 500;
canvas3.height = 250;

var image1 = new Image();
image1.onload = function() {
  console.log("Ready");
  ctx3.drawImage(image1, 0, 0);
  console.log(canvas3.toDataURL());
};
image1.src = 'data:image/png;base64,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';

const tenShades = [
  [255, 255, 255],
  [226, 226, 226],
  [198, 198, 198],
  [171, 171, 171],
  [145, 145, 145],
  [119, 119, 119],
  [94, 94, 94],
  [71, 71, 71],
  [48, 48, 48],
  [27, 27, 27]
];

const width = 100;
const height = 1000;
let x = 10, y = 10;

/*tenShades.forEach(i => {
  ctx.fillStyle = `rgb(${i[0]}, ${i[1]}, ${i[2]})`;
  ctx.fillRect(x, y, width, height);
  x += width;
});*/
ctx1.drawImage(document.getElementById('img1'), 0,0, 500, 250);
ctx2.drawImage(document.getElementById('img2'), 0,0, 500, 250);

console.log(document.getElementById('img2'));
const input = document.querySelector('input');
input.addEventListener('change', async function(e) {
  const [file] = e.target.files;
  //var img = new Image();
  //img.onload = function(){
    //ctx3.drawImage(img,0,0);
  //}
  //img.src = file;
  //ctx2.drawImage(file, 0,0, 500, 250);
  const arrayBuffer = await file.arrayBuffer();
  const byteArray = new Uint8Array(arrayBuffer);
  const base64String = btoa(String.fromCharCode(byteArray));
  canvas3.src = "data:image/png;base64,"+base64String;
  const signature = [137, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82];
  const META_SIZE = 4;
  const chunks = [];
  const hexString = Array.prototype.map.call(byteArray, function(byte) {
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);
  }).join(' ');
  const indivBits = hexString.split(' ');
  let headers  = parsePNGImage(indivBits);
  alert('Chunks present in the PNG image are '+headers.map(i => i.name));
  if (headers.map(i => i.name).includes('iCCP')) {
    document.getElementById('result').innerText = 'iCCP Chunk present. ICC Profile is Embedded';
  }
  else {
    document.getElementById('result').innerText = 'iCCP Chunk absent.';
  }
});

const reader = new FileReader();
const img = new Image();

const uploadImage = async (e) => {
  reader.onload = () => {
    img.onload = () => {
      ctx3.drawImage(img, 0, 0);
    };
    img.src = reader.result;
  };

  reader.readAsDataURL(e.target.files[0]);
  console.log(canvas3.toDataURL('image/png'));
  const file = e.target.files[0];
  const arrayBuffer = await file.arrayBuffer();
  const byteArray = new Uint8Array(arrayBuffer);
  const hexString = Array.prototype.map.call(byteArray, function(byte) {
    return ('0' + (byte & 0xFF).toString(16)).slice(-2);
  }).join(' ');
  const indivBits = hexString.split(' ');
  let headers  = parsePNGImage(indivBits);
  alert('Chunks present in the PNG image are '+headers.map(i => i.name));
  if (headers.map(i => i.name).includes('iCCP')) {
    document.getElementById('result').innerText = 'iCCP Chunk present. ICC Profile is Embedded';
  }
  else {
    document.getElementById('result').innerText = 'iCCP Chunk absent.';
    addICCPHeader(indivBits, [
      "00",
      "00",
      "0a",
      "49",
      "69",
      "43",
      "43",
      "50",
      "73",
      "52",
      "47",
      "42",
      "20",
      "49",
      "45",
      "43",
      "36",
      "31",
      "39",
      "36",
      "36",
      "2d",
      "32",
      "2e",
      "31",
      "00",
      "00",
      "48",
      "89",
      "9d",
      "53",
      "77",
      "58",
      "93",
      "f7",
      "16",
      "3e",
      "df",
      "f7",
      "65",
      "0f",
      "56",
      "42",
      "d8",
      "f0",
      "b1",
      "97",
      "6c",
      "81",
      "00",
      "22",
      "23",
      "ac",
      "08",
      "c8",
      "10",
      "59",
      "a2",
      "10",
      "92",
      "00",
      "61",
      "84",
      "10",
      "12",
      "40",
      "c5",
      "85",
      "88",
      "0a",
      "56",
      "14",
      "15",
      "11",
      "9c",
      "48",
      "55",
      "c4",
      "82",
      "d5",
      "0a",
      "48",
      "9d",
      "88",
      "e2",
      "a0",
      "28",
      "b8",
      "67",
      "41",
      "8a",
      "88",
      "5a",
      "8b",
      "55",
      "5c",
      "38",
      "ee",
      "1f",
      "dc",
      "a7",
      "b5",
      "7d",
      "7a",
      "ef",
      "ed",
      "ed",
      "fb",
      "d7",
      "fb",
      "bc",
      "e7",
      "9c",
      "e7",
      "fc",
      "ce",
      "79",
      "cf",
      "0f",
      "80",
      "11",
      "12",
      "26",
      "91",
      "e6",
      "a2",
      "6a",
      "00",
      "39",
      "52",
      "85",
      "3c",
      "3a",
      "d8",
      "1f",
      "8f",
      "4f",
      "48",
      "c4",
      "c9",
      "bd",
      "80",
      "02",
      "15",
      "48",
      "e0",
      "04",
      "20",
      "10",
      "e6",
      "cb",
      "c2",
      "67",
      "05",
      "c5",
      "00",
      "00",
      "f0",
      "03",
      "79",
      "78",
      "7e",
      "74",
      "b0",
      "3f",
      "fc",
      "01",
      "af",
      "6f",
      "00",
      "02",
      "00",
      "70",
      "d5",
      "2e",
      "24",
      "12",
      "c7",
      "e1",
      "ff",
      "83",
      "ba",
      "50",
      "26",
      "57",
      "00",
      "20",
      "91",
      "00",
      "e0",
      "22",
      "12",
      "e7",
      "0b",
      "01",
      "90",
      "52",
      "00",
      "c8",
      "2e",
      "54",
      "c8",
      "14",
      "00",
      "c8",
      "18",
      "00",
      "b0",
      "53",
      "b3",
      "64",
      "0a",
      "00",
      "94",
      "00",
      "00",
      "6c",
      "79",
      "7c",
      "42",
      "22",
      "00",
      "aa",
      "0d",
      "00",
      "ec",
      "f4",
      "49",
      "3e",
      "05",
      "00",
      "d8",
      "a9",
      "93",
      "dc",
      "17",
      "00",
      "d8",
      "a2",
      "1c",
      "a9",
      "08",
      "00",
      "8d",
      "01",
      "00",
      "99",
      "28",
      "47",
      "24",
      "02",
      "40",
      "bb",
      "00",
      "60",
      "55",
      "81",
      "52",
      "2c",
      "02",
      "c0",
      "c2",
      "00",
      "a0",
      "ac",
      "40",
      "22",
      "2e",
      "04",
      "c0",
      "ae",
      "01",
      "80",
      "59",
      "b6",
      "32",
      "47",
      "02",
      "80",
      "bd",
      "05",
      "00",
      "76",
      "8e",
      "58",
      "90",
      "0f",
      "40",
      "60",
      "00",
      "80",
      "99",
      "42",
      "2c",
      "cc",
      "00",
      "20",
      "38",
      "02",
      "00",
      "43",
      "1e",
      "13",
      "cd",
      "03",
      "20",
      "4c",
      "03",
      "a0",
      "30",
      "d2",
      "bf",
      "e0",
      "a9",
      "5f",
      "70",
      "85",
      "b8",
      "48",
      "01",
      "00",
      "c0",
      "cb",
      "95",
      "cd",
      "97",
      "4b",
      "d2",
      "33",
      "14",
      "b8",
      "95",
      "d0",
      "1a",
      "77",
      "f2",
      "f0",
      "e0",
      "e2",
      "21",
      "e2",
      "c2",
      "6c",
      "b1",
      "42",
      "61",
      "17",
      "29",
      "10",
      "66",
      "09",
      "e4",
      "22",
      "9c",
      "97",
      "9b",
      "23",
      "13",
      "48",
      "e7",
      "03",
      "4c",
      "ce",
      "0c",
      "00",
      "00",
      "1a",
      "f9",
      "d1",
      "c1",
      "fe",
      "38",
      "3f",
      "90",
      "e7",
      "e6",
      "e4",
      "e1",
      "e6",
      "66",
      "e7",
      "6c",
      "ef",
      "f4",
      "c5",
      "a2",
      "fe",
      "6b",
      "f0",
      "6f",
      "22",
      "3e",
      "21",
      "f1",
      "df",
      "fe",
      "bc",
      "8c",
      "02",
      "04",
      "00",
      "10",
      "4e",
      "cf",
      "ef",
      "da",
      "5f",
      "e5",
      "e5",
      "d6",
      "03",
      "70",
      "c7",
      "01",
      "b0",
      "75",
      "bf",
      "6b",
      "a9",
      "5b",
      "00",
      "da",
      "56",
      "00",
      "68",
      "df",
      "f9",
      "5d",
      "33",
      "db",
      "09",
      "a0",
      "5a",
      "0a",
      "d0",
      "7a",
      "f9",
      "8b",
      "79",
      "38",
      "fc",
      "40",
      "1e",
      "9e",
      "a1",
      "50",
      "c8",
      "3c",
      "1d",
      "1c",
      "0a",
      "0b",
      "0b",
      "ed",
      "25",
      "62",
      "a1",
      "bd",
      "30",
      "e3",
      "8b",
      "3e",
      "ff",
      "33",
      "e1",
      "6f",
      "e0",
      "8b",
      "7e",
      "f6",
      "fc",
      "40",
      "1e",
      "fe",
      "db",
      "7a",
      "f0",
      "00",
      "71",
      "9a",
      "40",
      "99",
      "ad",
      "c0",
      "a3",
      "83",
      "fd",
      "71",
      "61",
      "6e",
      "76",
      "ae",
      "52",
      "8e",
      "e7",
      "cb",
      "04",
      "42",
      "31",
      "6e",
      "f7",
      "e7",
      "23",
      "fe",
      "c7",
      "85",
      "7f",
      "fd",
      "8e",
      "29",
      "d1",
      "e2",
      "34",
      "b1",
      "5c",
      "2c",
      "15",
      "8a",
      "f1",
      "58",
      "89",
      "b8",
      "50",
      "22",
      "4d",
      "c7",
      "79",
      "b9",
      "52",
      "91",
      "44",
      "21",
      "c9",
      "95",
      "e2",
      "12",
      "e9",
      "7f",
      "32",
      "f1",
      "1f",
      "96",
      "fd",
      "09",
      "93",
      "77",
      "0d",
      "00",
      "ac",
      "86",
      "4f",
      "c0",
      "4e",
      "b6",
      "07",
      "b5",
      "cb",
      "6c",
      "c0",
      "7e",
      "ee",
      "01",
      "02",
      "8b",
      "0e",
      "58",
      "d2",
      "76",
      "00",
      "40",
      "7e",
      "f3",
      "2d",
      "8c",
      "1a",
      "0b",
      "91",
      "00",
      "10",
      "67",
      "34",
      "32",
      "79",
      "f7",
      "00",
      "00",
      "93",
      "bf",
      "f9",
      "8f",
      "40",
      "2b",
      "01",
      "00",
      "cd",
      "97",
      "a4",
      "e3",
      "00",
      "00",
      "bc",
      "e8",
      "18",
      "5c",
      "a8",
      "94",
      "17",
      "4c",
      "c6",
      "08",
      "00",
      "00",
      "44",
      "a0",
      "81",
      "2a",
      "b0",
      "41",
      "07",
      "0c",
      "c1",
      "14",
      "ac",
      "c0",
      "0e",
      "9c",
      "c1",
      "1d",
      "bc",
      "c0",
      "17",
      "02",
      "61",
      "06",
      "44",
      "40",
      "0c",
      "24",
      "c0",
      "3c",
      "10",
      "42",
      "06",
      "e4",
      "80",
      "1c",
      "0a",
      "a1",
      "18",
      "96",
      "41",
      "19",
      "54",
      "c0",
      "3a",
      "d8",
      "04",
      "b5",
      "b0",
      "03",
      "1a",
      "a0",
      "11",
      "9a",
      "e1",
      "10",
      "b4",
      "c1",
      "31",
      "38",
      "0d",
      "e7",
      "e0",
      "12",
      "5c",
      "81",
      "eb",
      "70",
      "17",
      "06",
      "60",
      "18",
      "9e",
      "c2",
      "18",
      "bc",
      "86",
      "09",
      "04",
      "41",
      "c8",
      "08",
      "13",
      "61",
      "21",
      "3a",
      "88",
      "11",
      "62",
      "8e",
      "d8",
      "22",
      "ce",
      "08",
      "17",
      "99",
      "8e",
      "04",
      "22",
      "61",
      "48",
      "34",
      "92",
      "80",
      "a4",
      "20",
      "e9",
      "88",
      "14",
      "51",
      "22",
      "c5",
      "c8",
      "72",
      "a4",
      "02",
      "a9",
      "42",
      "6a",
      "91",
      "5d",
      "48",
      "23",
      "f2",
      "2d",
      "72",
      "14",
      "39",
      "8d",
      "5c",
      "40",
      "fa",
      "90",
      "db",
      "c8",
      "20",
      "32",
      "8a",
      "fc",
      "8a",
      "bc",
      "47",
      "31",
      "94",
      "81",
      "b2",
      "51",
      "03",
      "d4",
      "02",
      "75",
      "40",
      "b9",
      "a8",
      "1f",
      "1a",
      "8a",
      "c6",
      "a0",
      "73",
      "d1",
      "74",
      "34",
      "0f",
      "5d",
      "80",
      "96",
      "a2",
      "6b",
      "d1",
      "1a",
      "b4",
      "1e",
      "3d",
      "80",
      "b6",
      "a2",
      "a7",
      "d1",
      "4b",
      "e8",
      "75",
      "74",
      "00",
      "7d",
      "8a",
      "8e",
      "63",
      "80",
      "d1",
      "31",
      "0e",
      "66",
      "8c",
      "d9",
      "61",
      "5c",
      "8c",
      "87",
      "45",
      "60",
      "89",
      "58",
      "1a",
      "26",
      "c7",
      "16",
      "63",
      "e5",
      "58",
      "35",
      "56",
      "8f",
      "35",
      "63",
      "1d",
      "58",
      "37",
      "76",
      "15",
      "1b",
      "c0",
      "9e",
      "61",
      "ef",
      "08",
      "24",
      "02",
      "8b",
      "80",
      "13",
      "ec",
      "08",
      "5e",
      "84",
      "10",
      "c2",
      "6c",
      "82",
      "90",
      "90",
      "47",
      "58",
      "4c",
      "58",
      "43",
      "a8",
      "25",
      "ec",
      "23",
      "b4",
      "12",
      "ba",
      "08",
      "57",
      "09",
      "83",
      "84",
      "31",
      "c2",
      "27",
      "22",
      "93",
      "a8",
      "4f",
      "b4",
      "25",
      "7a",
      "12",
      "f9",
      "c4",
      "78",
      "62",
      "3a",
      "b1",
      "90",
      "58",
      "46",
      "ac",
      "26",
      "ee",
      "21",
      "1e",
      "21",
      "9e",
      "25",
      "5e",
      "27",
      "0e",
      "13",
      "5f",
      "93",
      "48",
      "24",
      "0e",
      "c9",
      "92",
      "e4",
      "4e",
      "0a",
      "21",
      "25",
      "90",
      "32",
      "49",
      "0b",
      "49",
      "6b",
      "48",
      "db",
      "48",
      "2d",
      "a4",
      "53",
      "a4",
      "3e",
      "d2",
      "10",
      "69",
      "9c",
      "4c",
      "26",
      "eb",
      "90",
      "6d",
      "c9",
      "de",
      "e4",
      "08",
      "b2",
      "80",
      "ac",
      "20",
      "97",
      "91",
      "b7",
      "90",
      "0f",
      "90",
      "4f",
      "92",
      "fb",
      "c9",
      "c3",
      "e4",
      "b7",
      "14",
      "3a",
      "c5",
      "88",
      "e2",
      "4c",
      "09",
      "a2",
      "24",
      "52",
      "a4",
      "94",
      "12",
      "4a",
      "35",
      "65",
      "3f",
      "e5",
      "04",
      "a5",
      "9f",
      "32",
      "42",
      "99",
      "a0",
      "aa",
      "51",
      "cd",
      "a9",
      "9e",
      "d4",
      "08",
      "aa",
      "88",
      "3a",
      "9f",
      "5a",
      "49",
      "6d",
      "a0",
      "76",
      "50",
      "2f",
      "53",
      "87",
      "a9",
      "13",
      "34",
      "75",
      "9a",
      "25",
      "cd",
      "9b",
      "16",
      "43",
      "cb",
      "a4",
      "2d",
      "a3",
      "d5",
      "d0",
      "9a",
      "69",
      "67",
      "69",
      "f7",
      "68",
      "2f",
      "e9",
      "74",
      "ba",
      "09",
      "dd",
      "83",
      "1e",
      "45",
      "97",
      "d0",
      "97",
      "d2",
      "6b",
      "e8",
      "07",
      "e9",
      "e7",
      "e9",
      "83",
      "f4",
      "77",
      "0c",
      "0d",
      "86",
      "0d",
      "83",
      "c7",
      "48",
      "62",
      "28",
      "19",
      "6b",
      "19",
      "7b",
      "19",
      "a7",
      "18",
      "b7",
      "19",
      "2f",
      "99",
      "4c",
      "a6",
      "05",
      "d3",
      "97",
      "99",
      "c8",
      "54",
      "30",
      "d7",
      "32",
      "1b",
      "99",
      "67",
      "98",
      "0f",
      "98",
      "6f",
      "55",
      "58",
      "2a",
      "f6",
      "2a",
      "7c",
      "15",
      "91",
      "ca",
      "12",
      "95",
      "3a",
      "95",
      "56",
      "95",
      "7e",
      "95",
      "e7",
      "aa",
      "54",
      "55",
      "73",
      "55",
      "3f",
      "d5",
      "79",
      "aa",
      "0b",
      "54",
      "ab",
      "55",
      "0f",
      "ab",
      "5e",
      "56",
      "7d",
      "a6",
      "46",
      "55",
      "b3",
      "50",
      "e3",
      "a9",
      "09",
      "d4",
      "16",
      "ab",
      "d5",
      "a9",
      "1d",
      "55",
      "bb",
      "a9",
      "36",
      "ae",
      "ce",
      "52",
      "77",
      "52",
      "8f",
      "50",
      "cf",
      "51",
      "5f",
      "a3",
      "be",
      "5f",
      "fd",
      "82",
      "fa",
      "63",
      "0d",
      "b2",
      "86",
      "85",
      "46",
      "a0",
      "86",
      "48",
      "a3",
      "54",
      "63",
      "b7",
      "c6",
      "19",
      "8d",
      "21",
      "16",
      "c6",
      "32",
      "65",
      "f1",
      "58",
      "42",
      "d6",
      "72",
      "56",
      "03",
      "eb",
      "2c",
      "6b",
      "98",
      "4d",
      "62",
      "5b",
      "b2",
      "f9",
      "ec",
      "4c",
      "76",
      "05",
      "fb",
      "1b",
      "76",
      "2f",
      "7b",
      "4c",
      "53",
      "43",
      "73",
      "aa",
      "66",
      "ac",
      "66",
      "91",
      "66",
      "9d",
      "e6",
      "71",
      "cd",
      "01",
      "0e",
      "c6",
      "b1",
      "e0",
      "f0",
      "39",
      "d9",
      "9c",
      "4a",
      "ce",
      "21",
      "ce",
      "0d",
      "ce",
      "7b",
      "2d",
      "03",
      "2d",
      "3f",
      "2d",
      "b1",
      "d6",
      "6a",
      "ad",
      "66",
      "ad",
      "7e",
      "ad",
      "37",
      "da",
      "7a",
      "da",
      "be",
      "da",
      "62",
      "ed",
      "72",
      "ed",
      "16",
      "ed",
      "eb",
      "da",
      "ef",
      "75",
      "70",
      "9d",
      "40",
      "9d",
      "2c",
      "9d",
      "f5",
      "3a",
      "6d",
      "3a",
      "f7",
      "75",
      "09",
      "ba",
      "36",
      "ba",
      "51",
      "ba",
      "85",
      "ba",
      "db",
      "75",
      "cf",
      "ea",
      "3e",
      "d3",
      "63",
      "eb",
      "79",
      "e9",
      "09",
      "f5",
      "ca",
      "f5",
      "0e",
      "e9",
      "dd",
      "d1",
      "47",
      "f5",
      "6d",
      "f4",
      "a3",
      "f5",
      "17",
      "ea",
      "ef",
      "d6",
      "ef",
      "d1",
      "1f",
      "37",
      "30",
      "34",
      "08",
      "36",
      "90",
      "19",
      "6c",
      "31",
      "38",
      "63",
      "f0",
      "cc",
      "90",
      "63",
      "e8",
      "6b",
      "98",
      "69",
      "b8",
      "d1",
      "f0",
      "84",
      "e1",
      "a8",
      "11",
      "cb",
      "68",
      "ba",
      "91",
      "c4",
      "68",
      "a3",
      "d1",
      "49",
      "a3",
      "27",
      "b8",
      "26",
      "ee",
      "87",
      "67",
      "e3",
      "35",
      "78",
      "17",
      "3e",
      "66",
      "ac",
      "6f",
      "1c",
      "62",
      "ac",
      "34",
      "de",
      "65",
      "dc",
      "6b",
      "3c",
      "61",
      "62",
      "69",
      "32",
      "db",
      "a4",
      "c4",
      "a4",
      "c5",
      "e4",
      "be",
      "29",
      "cd",
      "94",
      "6b",
      "9a",
      "66",
      "ba",
      "d1",
      "b4",
      "d3",
      "74",
      "cc",
      "cc",
      "c8",
      "2c",
      "dc",
      "ac",
      "d8",
      "ac",
      "c9",
      "ec",
      "8e",
      "39",
      "d5",
      "9c",
      "6b",
      "9e",
      "61",
      "be",
      "d9",
      "bc",
      "db",
      "fc",
      "8d",
      "85",
      "a5",
      "45",
      "9c",
      "c5",
      "4a",
      "8b",
      "36",
      "8b",
      "c7",
      "96",
      "da",
      "96",
      "7c",
      "cb",
      "05",
      "96",
      "4d",
      "96",
      "f7",
      "ac",
      "98",
      "56",
      "3e",
      "56",
      "79",
      "56",
      "f5",
      "56",
      "d7",
      "ac",
      "49",
      "d6",
      "5c",
      "eb",
      "2c",
      "eb",
      "6d",
      "d6",
      "57",
      "6c",
      "50",
      "1b",
      "57",
      "9b",
      "0c",
      "9b",
      "3a",
      "9b",
      "cb",
      "b6",
      "a8",
      "ad",
      "9b",
      "ad",
      "c4",
      "76",
      "9b",
      "6d",
      "df",
      "14",
      "e2",
      "14",
      "8f",
      "29",
      "d2",
      "29",
      "f5",
      "53",
      "6e",
      "da",
      "31",
      "ec",
      "fc",
      "ec",
      "0a",
      "ec",
      "9a",
      "ec",
      "06",
      "ed",
      "39",
      "f6",
      "61",
      "f6",
      "25",
      "f6",
      "6d",
      "f6",
      "cf",
      "1d",
      "cc",
      "1c",
      "12",
      "1d",
      "d6",
      "3b",
      "74",
      "3b",
      "7c",
      "72",
      "74",
      "75",
      "cc",
      "76",
      "6c",
      "70",
      "bc",
      "eb",
      "a4",
      "e1",
      "34",
      "c3",
      "a9",
      "c4",
      "a9",
      "c3",
      "e9",
      "57",
      "67",
      "1b",
      "67",
      "a1",
      "73",
      "9d",
      "f3",
      "35",
      "17",
      "a6",
      "4b",
      "90",
      "cb",
      "12",
      "97",
      "76",
      "97",
      "17",
      "53",
      "6d",
      "a7",
      "8a",
      "a7",
      "6e",
      "9f",
      "7a",
      "cb",
      "95",
      "e5",
      "1a",
      "ee",
      "ba",
      "d2",
      "b5",
      "d3",
      "f5",
      "a3",
      "9b",
      "bb",
      "9b",
      "dc",
      "ad",
      "d9",
      "6d",
      "d4",
      "dd",
      "cc",
      "3d",
      "c5",
      "7d",
      "ab",
      "fb",
      "4d",
      "2e",
      "9b",
      "1b",
      "c9",
      "5d",
      "c3",
      "3d",
      "ef",
      "41",
      "f4",
      "f0",
      "f7",
      "58",
      "e2",
      "71",
      "cc",
      "e3",
      "9d",
      "a7",
      "9b",
      "a7",
      "c2",
      "f3",
      "90",
      "e7",
      "2f",
      "5e",
      "76",
      "5e",
      "59",
      "5e",
      "fb",
      "bd",
      "1e",
      "4f",
      "b3",
      "9c",
      "26",
      "9e",
      "d6",
      "30",
      "6d",
      "c8",
      "db",
      "c4",
      "5b",
      "e0",
      "bd",
      "cb",
      "7b",
      "60",
      "3a",
      "3e",
      "3d",
      "65",
      "fa",
      "ce",
      "e9",
      "03",
      "3e",
      "c6",
      "3e",
      "02",
      "9f",
      "7a",
      "9f",
      "87",
      "be",
      "a6",
      "be",
      "22",
      "df",
      "3d",
      "be",
      "23",
      "7e",
      "d6",
      "7e",
      "99",
      "7e",
      "07",
      "fc",
      "9e",
      "fb",
      "3b",
      "fa",
      "cb",
      "fd",
      "8f",
      "f8",
      "bf",
      "e1",
      "79",
      "f2",
      "16",
      "f1",
      "4e",
      "05",
      "60",
      "01",
      "c1",
      "01",
      "e5",
      "01",
      "bd",
      "81",
      "1a",
      "81",
      "b3",
      "03",
      "6b",
      "03",
      "1f",
      "04",
      "99",
      "04",
      "a5",
      "07",
      "35",
      "05",
      "8d",
      "05",
      "bb",
      "06",
      "2f",
      "0c",
      "3e",
      "15",
      "42",
      "0c",
      "09",
      "0d",
      "59",
      "1f",
      "72",
      "93",
      "6f",
      "c0",
      "17",
      "f2",
      "1b",
      "f9",
      "63",
      "33",
      "dc",
      "67",
      "2c",
      "9a",
      "d1",
      "15",
      "ca",
      "08",
      "9d",
      "15",
      "5a",
      "1b",
      "fa",
      "30",
      "cc",
      "26",
      "4c",
      "1e",
      "d6",
      "11",
      "8e",
      "86",
      "cf",
      "08",
      "df",
      "10",
      "7e",
      "6f",
      "a6",
      "f9",
      "4c",
      "e9",
      "cc",
      "b6",
      "08",
      "88",
      "e0",
      "47",
      "6c",
      "88",
      "b8",
      "1f",
      "69",
      "19",
      "99",
      "17",
      "f9",
      "7d",
      "14",
      "29",
      "2a",
      "32",
      "aa",
      "2e",
      "ea",
      "51",
      "b4",
      "53",
      "74",
      "71",
      "74",
      "f7",
      "2c",
      "d6",
      "ac",
      "e4",
      "59",
      "fb",
      "67",
      "bd",
      "8e",
      "f1",
      "8f",
      "a9",
      "8c",
      "b9",
      "3b",
      "db",
      "6a",
      "b6",
      "72",
      "76",
      "67",
      "ac",
      "6a",
      "6c",
      "52",
      "6c",
      "63",
      "ec",
      "9b",
      "b8",
      "80",
      "b8",
      "aa",
      "b8",
      "81",
      "78",
      "87",
      "f8",
      "45",
      "f1",
      "97",
      "12",
      "74",
      "13",
      "24",
      "09",
      "ed",
      "89",
      "e4",
      "c4",
      "d8",
      "c4",
      "3d",
      "89",
      "e3",
      "73",
      "02",
      "e7",
      "6c",
      "9a",
      "33",
      "9c",
      "e4",
      "9a",
      "54",
      "96",
      "74",
      "63",
      "ae",
      "e5",
      "dc",
      "a2",
      "b9",
      "17",
      "e6",
      "e9",
      "ce",
      "cb",
      "9e",
      "77",
      "3c",
      "59",
      "35",
      "59",
      "90",
      "7c",
      "38",
      "85",
      "98",
      "12",
      "97",
      "b2",
      "3f",
      "e5",
      "83",
      "20",
      "42",
      "50",
      "2f",
      "18",
      "4f",
      "e5",
      "a7",
      "6e",
      "4d",
      "1d",
      "13",
      "f2",
      "84",
      "9b",
      "85",
      "4f",
      "45",
      "be",
      "a2",
      "8d",
      "a2",
      "51",
      "b1",
      "b7",
      "b8",
      "4a",
      "3c",
      "92",
      "e6",
      "9d",
      "56",
      "95",
      "f6",
      "38",
      "dd",
      "3b",
      "7d",
      "43",
      "fa",
      "68",
      "86",
      "4f",
      "46",
      "75",
      "c6",
      "33",
      "09",
      "4f",
      "52",
      "2b",
      "79",
      "91",
      "19",
      "92",
      "b9",
      "23",
      "f3",
      "4d",
      "56",
      "44",
      "d6",
      "de",
      "ac",
      "cf",
      "d9",
      "71",
      "d9",
      "2d",
      "39",
      "94",
      "9c",
      "94",
      "9c",
      "a3",
      "52",
      "0d",
      "69",
      "96",
      "b4",
      "2b",
      "d7",
      "30",
      "b7",
      "28",
      "b7",
      "4f",
      "66",
      "2b",
      "2b",
      "93",
      "0d",
      "e4",
      "79",
      "e6",
      "6d",
      "ca",
      "1b",
      "93",
      "87",
      "ca",
      "f7",
      "e4",
      "23",
      "f9",
      "73",
      "f3",
      "db",
      "15",
      "6c",
      "85",
      "4c",
      "d1",
      "a3",
      "b4",
      "52",
      "ae",
      "50",
      "0e",
      "16",
      "4c",
      "2f",
      "a8",
      "2b",
      "78",
      "5b",
      "18",
      "5b",
      "78",
      "b8",
      "48",
      "bd",
      "48",
      "5a",
      "d4",
      "33",
      "df",
      "66",
      "fe",
      "ea",
      "f9",
      "23",
      "0b",
      "82",
      "16",
      "7c",
      "bd",
      "90",
      "b0",
      "50",
      "b8",
      "b0",
      "b3",
      "d8",
      "b8",
      "78",
      "59",
      "f1",
      "e0",
      "22",
      "bf",
      "45",
      "bb",
      "16",
      "23",
      "8b",
      "53",
      "17",
      "77",
      "2e",
      "31",
      "5d",
      "52",
      "ba",
      "64",
      "78",
      "69",
      "f0",
      "d2",
      "7d",
      "cb",
      "68",
      "cb",
      "b2",
      "96",
      "fd",
      "50",
      "e2",
      "58",
      "52",
      "55",
      "f2",
      "6a",
      "79",
      "dc",
      "f2",
      "8e",
      "52",
      "83",
      "d2",
      "a5",
      "a5",
      "43",
      "2b",
      "82",
      "57",
      "34",
      "95",
      "a9",
      "94",
      "c9",
      "cb",
      "6e",
      "ae",
      "f4",
      "5a",
      "b9",
      "63",
      "15",
      "61",
      "95",
      "64",
      "55",
      "ef",
      "6a",
      "97",
      "d5",
      "5b",
      "56",
      "7f",
      "2a",
      "17",
      "95",
      "5f",
      "ac",
      "70",
      "ac",
      "a8",
      "ae",
      "f8",
      "b0",
      "46",
      "b8",
      "e6",
      "e2",
      "57",
      "4e",
      "5f",
      "d5",
      "7c",
      "f5",
      "79",
      "6d",
      "da",
      "da",
      "de",
      "4a",
      "b7",
      "ca",
      "ed",
      "eb",
      "48",
      "eb",
      "a4",
      "eb",
      "6e",
      "ac",
      "f7",
      "59",
      "bf",
      "af",
      "4a",
      "bd",
      "6a",
      "41",
      "d5",
      "d0",
      "86",
      "f0",
      "0d",
      "ad",
      "1b",
      "f1",
      "8d",
      "e5",
      "1b",
      "5f",
      "6d",
      "4a",
      "de",
      "74",
      "a1",
      "7a",
      "6a",
      "f5",
      "8e",
      "cd",
      "b4",
      "cd",
      "ca",
      "cd",
      "03",
      "35",
      "61",
      "35",
      "ed",
      "5b",
      "cc",
      "b6",
      "ac",
      "db",
      "f2",
      "a1",
      "36",
      "a3",
      "f6",
      "7a",
      "9d",
      "7f",
      "5d",
      "cb",
      "56",
      "fd",
      "ad",
      "ab",
      "b7",
      "be",
      "d9",
      "26",
      "da",
      "d6",
      "bf",
      "dd",
      "77",
      "7b",
      "f3",
      "0e",
      "83",
      "1d",
      "15",
      "3b",
      "de",
      "ef",
      "94",
      "ec",
      "bc",
      "b5",
      "2b",
      "78",
      "57",
      "6b",
      "bd",
      "45",
      "7d",
      "f5",
      "6e",
      "d2",
      "ee",
      "82",
      "dd",
      "8f",
      "1a",
      "62",
      "1b",
      "ba",
      "bf",
      "e6",
      "7e",
      "dd",
      "b8",
      "47",
      "77",
      "4f",
      "c5",
      "9e",
      "8f",
      "7b",
      "a5",
      "7b",
      "07",
      "f6",
      "45",
      "ef",
      "eb",
      "6a",
      "74",
      "6f",
      "6c",
      "dc",
      "af",
      "bf",
      "bf",
      "b2",
      "09",
      "6d",
      "52",
      "36",
      "8d",
      "1e",
      "48",
      "3a",
      "70",
      "e5",
      "9b",
      "80",
      "6f",
      "da",
      "9b",
      "ed",
      "9a",
      "77",
      "b5",
      "70",
      "5a",
      "2a",
      "0e",
      "c2",
      "41",
      "e5",
      "c1",
      "27",
      "df",
      "a6",
      "7c",
      "7b",
      "e3",
      "50",
      "e8",
      "a1",
      "ce",
      "c3",
      "dc",
      "c3",
      "cd",
      "df",
      "99",
      "7f",
      "b7",
      "f5",
      "08",
      "eb",
      "48",
      "79",
      "2b",
      "d2",
      "3a",
      "bf",
      "75",
      "ac",
      "2d",
      "a3",
      "6d",
      "a0",
      "3d",
      "a1",
      "bd",
      "ef",
      "e8",
      "8c",
      "a3",
      "9d",
      "1d",
      "5e",
      "1d",
      "47",
      "be",
      "b7",
      "ff",
      "7e",
      "ef",
      "31",
      "e3",
      "63",
      "75",
      "c7",
      "35",
      "8f",
      "57",
      "9e",
      "a0",
      "9d",
      "28",
      "3d",
      "f1",
      "f9",
      "e4",
      "82",
      "93",
      "e3",
      "a7",
      "64",
      "a7",
      "9e",
      "9d",
      "4e",
      "3f",
      "3d",
      "d4",
      "99",
      "dc",
      "79",
      "f7",
      "4c",
      "fc",
      "99",
      "6b",
      "5d",
      "51",
      "5d",
      "bd",
      "67",
      "43",
      "cf",
      "9e",
      "3f",
      "17",
      "74",
      "ee",
      "4c",
      "b7",
      "5f",
      "f7",
      "c9",
      "f3",
      "de",
      "e7",
      "8f",
      "5d",
      "f0",
      "bc",
      "70",
      "f4",
      "22",
      "f7",
      "62",
      "db",
      "25",
      "b7",
      "4b",
      "ad",
      "3d",
      "ae",
      "3d",
      "47",
      "7e",
      "70",
      "fd",
      "e1",
      "48",
      "af",
      "5b",
      "6f",
      "eb",
      "65",
      "f7",
      "cb",
      "ed",
      "57",
      "3c",
      "ae",
      "74",
      "f4",
      "4d",
      "eb",
      "3b",
      "d1",
      "ef",
      "d3",
      "7f",
      "fa",
      "6a",
      "c0",
      "d5",
      "73",
      "d7",
      "f8",
      "d7",
      "2e",
      "5d",
      "9f",
      "79",
      "bd",
      "ef",
      "c6",
      "ec",
      "1b",
      "b7",
      "6e",
      "26",
      "dd",
      "1c",
      "b8",
      "25",
      "ba",
      "f5",
      "f8",
      "76",
      "f6",
      "ed",
      "17",
      "77",
      "0a",
      "ee",
      "4c",
      "dc",
      "5d",
      "7a",
      "8f",
      "78",
      "af",
      "fc",
      "be",
      "da",
      "fd",
      "ea",
      "07",
      "fa",
      "0f",
      "ea",
      "7f",
      "b4",
      "fe",
      "b1",
      "65",
      "c0",
      "6d",
      "e0",
      "f8",
      "60",
      "c0",
      "60",
      "cf",
      "c3",
      "59",
      "0f",
      "ef",
      "0e",
      "09",
      "87",
      "9e",
      "fe",
      "94",
      "ff",
      "d3",
      "87",
      "e1",
      "d2",
      "47",
      "cc",
      "47",
      "d5",
      "23",
      "46",
      "23",
      "8d",
      "8f",
      "9d",
      "1f",
      "1f",
      "1b",
      "0d",
      "1a",
      "bd",
      "f2",
      "64",
      "ce",
      "93",
      "e1",
      "a7",
      "b2",
      "a7",
      "13",
      "cf",
      "ca",
      "7e",
      "56",
      "ff",
      "79",
      "eb",
      "73",
      "ab",
      "e7",
      "df",
      "fd",
      "e2",
      "fb",
      "4b",
      "cf",
      "58",
      "fc",
      "d8",
      "f0",
      "0b",
      "f9",
      "8b",
      "cf",
      "bf",
      "ae",
      "79",
      "a9",
      "f3",
      "72",
      "ef",
      "ab",
      "a9",
      "af",
      "3a",
      "c7",
      "23",
      "c7",
      "1f",
      "bc",
      "ce",
      "79",
      "3d",
      "f1",
      "a6",
      "fc",
      "ad",
      "ce",
      "db",
      "7d",
      "ef",
      "b8",
      "ef",
      "ba",
      "df",
      "c7",
      "bd",
      "1f",
      "99",
      "28",
      "fc",
      "40",
      "fe",
      "50",
      "f3",
      "d1",
      "fa",
      "63",
      "c7",
      "a7",
      "d0",
      "4f",
      "f7",
      "3e",
      "e7",
      "7c",
      "fe",
      "fc",
      "2f",
      "f7",
      "84",
      "f3",
      "fb",
      "2d",
      "47",
      "38",
      "cf"
    ], headers);
  }
}
const imgUploader = document.getElementById("uploader");
imgUploader.addEventListener('change', uploadImage)
function hex_to_ascii_self(str1)
{
  var hex  = str1.toString();
  var str = '';
  for (var n = 0; n < hex.length; n += 2) {
    str += String.fromCharCode(parseInt(hex.substr(n, 2), 16));
  }
  return str;
}

const parsePNGImage = (bytes) => {
  const PNG_HEADER = ['89', '50', '4e', '47', '0d', '0a', '1a', '0a'];
  const headers = [];
  let isPng = true;
  for (let i=0; i<PNG_HEADER.length; i++) {
    if (PNG_HEADER[i] != bytes[i]) {
      isPng = false;
      break;
    }
  }
  if (!isPng) {
    alert("Image is not valid PNG");
    return;
  }
  let currentPosition = PNG_HEADER.length;
  while (currentPosition < bytes.length) {
    let startPosition = currentPosition;
    let currentBlock = [];
    let blockLength = 0, typeName = '';
    let blockLenghtHex = '';
    for (let i = 0; i< 4; i++) {
      blockLenghtHex += bytes[currentPosition+i]
    }
    currentPosition += 4;
    blockLength = parseInt(blockLenghtHex, 16);
    for (let i = 0; i<blockLength+12; i++) {
      currentBlock.push(bytes[currentPosition-4+i]);
    }
    let typeNameHex = '';
    for (let i = 0; i< 4; i++) {
      typeNameHex += bytes[currentPosition+i]
    }
    currentPosition += 4;
    typeName = hex_to_ascii_self(typeNameHex);
    console.log(typeName);
    /*if (typeName == 'iCCP') {
      console.log("ICCP Header ");
    }
    if (typeName == 'gAMA') {
      let gammaHex = '';
      for (let i = 0; i<4; i++) {
        gammaHex += bytes[currentPosition + i];
      }
      currentPosition += 8;
      let gammaVal = parseInt(gammaHex, 16) / 100000;
      headers.push({name: typeName, length: blockLength, value: gammaVal});
    }*/
    for (let i = 0; i< 4; i++) {
      currentBlock.push(bytes[currentPosition+blockLength+i]);
    }
      headers.push({name: typeName, length: blockLength, startIndex: startPosition, endIndex: currentPosition+blockLength+3, block: currentBlock});
      currentPosition += blockLength;
      currentPosition += 4;
  }
  console.log(headers);
  return headers;
};

const addICCPHeader = (byteArray, IccpHeader, allHeaders) => {

};
